(function(w){var t=window.AmazonUIPageJS||window.P,ea=t._namespace||t.attributeErrors,k=ea?ea("DetailPageImageBlockAssets",""):t;k.guardFatal?k.guardFatal(w)(k,window):k.execute(function(){w(k,window)})})(function(w,t,ea){w.register("postMetric",function(){return{postCountMetric:function(k){if("undefined"!==typeof k){var c=t.ue;if(c){var a=c.count(k)||0;c.count(k,a+1)}}},postTimeMetric:function(k,c){if("undefined"!==typeof k&&"undefined"!==typeof c){var a=t.ue;a&&a.count(k,c)}}}});"use strict";w.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});w.register("postEarlyMetric",function(){return null});"use strict";w.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(k,c,a,f){k=k.extend(!0,{},a,f);var p=new c(k);w.register("ImageBlockAPI",function(){return p.api});return p});"use strict";w.when("A").execute(function(k){k.on("a:image:load:landingImage",function(){t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())})});
"use strict";w.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(k){function c(a){a&&(w.load.js(a),t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",t.parseInt(performance.now())))}function a(a){a&&w.load.css(a)}var f=k.airyConfig;void 0===f?w.when("ImageBlockBTF").execute(function(k){f=k.airyConfig;c(f.jsUrl);a(f.cssUrl);t.performance&&performance.now&&t.ue&&ue.count&&ue.count("WeblabAllocationErrorCount",(ue.count("WeblabAllocationErrorCount")||
0)+1)}):(c(f.jsUrl),a(f.cssUrl))});"use strict";w.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(k,c,a,f,p){var h={};return function(D){var r=this;r.dispatch=function(a,c){var r=h[a];f.isDefined(r)&&k.each(r,function(a,h){h.call(t,c)})};r.register=function(a,c){f.isDefined(h[a])||(h[a]=[]);"function"===typeof c&&h[a].push(c)};r.model=new c(D,r);r.view=new a(D,r,r.model);r.api=new p(D,r,r.model);r.init=function(){r.model.init();
r.view.init()};r.init()}});"use strict";w.when("A","imageBlockUtils").register("ImageBlockModel",function(k,c){function a(a,h,f,k,r){c.isDefined(a)&&(E.type=a);c.isDefined(h)&&(E.index=h);c.isDefined(f)&&(E.thumbnailIndex=f);c.isDefined(k)&&(E.variant=k);c.isDefined(r)&&(E.color=r)}function f(c){a("image",0,0,"MAIN",c||r.landingAsinColor||r.defaultColor)}function p(c){c=c.data;F=k.copy(E);a(c.type,c.index,c.thumbnailIndex,c.variant,c.color)}function h(a){p(a);a=k.copy(a);a.data=k.copy(E);l.dispatch("updateView",
a)}function D(){F=k.copy(E);f(E.color)}var r,l,E={},F={},A,t;return function(a,c){l=c;r=a;l.register("updateSelection",h);l.register("updateModel",p);l.register("resetModel",D);this.init=function(){f()};this.getCurrentItem=function(){return k.copy(E)};this.getPreviousItem=function(){return k.copy(F)};this.setCurrentEvent=function(a){A=a};this.getCurrentEvent=function(){return A};this.setImmersiveViewModalInstance=function(a){t=a};this.getImmersiveViewModalInstance=function(){return t};this.updateTitle=
function(a){r.title=a}}});"use strict";w.when("ImageBlockBTF","postMetric").execute(function(k,c){function a(a,c,f,k,l){function E(a){"click"===a.type&&k.postCountMetric("thumbClick");"click"===a.type&&m.overrideAltImageClickAction?H.dispatch("thumbActionClick",a):H.dispatch("updateSelection",a)}function F(a){m.useClickZoom||H.dispatch("imageClick",a)}function A(a){m.useClickZoom||H.dispatch("imageHover",a)}function T(a){H.dispatch("button360Click",a)}function y(c){!f.isDefined(c)||"swatchClick"!==
c.type&&"updatedData"!==c.type?(d.update(c),"swatchHover"!==c.type&&n.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&k.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):d.render(c.data.color,!1,c.onload)}function C(a){H.dispatch("resize",a)}function N(a){f.selectThumbnail(a,q)}function J(a){var c=a.data,d;c&&"ingress"!==c.type&&"click"===a.type&&(d=a);return d}function L(a){var c=n.getCurrentItem(),d={type:"click"};d.$declarativeParent=
a;d.data=c;return d}var d,m,H,n,q;return function(f,k,r){d=this;m=f;H=k;n=r;q=c("#imageBlock #altImages ul");var D=c("#imageBlock .canvas"),M=c("#main-image-container"),b;d.subViews=[];for(k=0;k<l.length;k++)d.subViews.push(new l[k](f,r,d,H));d.render=function(a,g,I){var m=0;q.find(".item").remove();a=a||n.getCurrentItem().color;c.each(d.subViews,function(b,c){m=c.render(a,m,D,q,M,g,I)||m});var f=q.find(".a-button-selected").closest(".a-declarative");b=L(f)};d.init=function(){q=c("#imageBlock #altImages ul");
var b=q.find(".a-button-selected").closest(".a-declarative"),g=b.data("action"),b=b.data(g)||{};b.color=m.landingAsinColor||m.defaultColor;H.dispatch("updateModel",{data:b});d.render(b.color,!0);m.isDebug&&t.console&&console.log(m);H.register("updateView",y);H.register("selectThumbnail",N);"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click","hover"]},{name:"thumbnail",events:["click","hover"]}]});m.disableHoverOnAltImages||
a.declarative("thumb-action",["mouseenter","mouseleave"],E);a.declarative("thumb-action",["click"],E);a.declarative("main-image-click",["click"],F);a.declarative("main-image-click",["mouseenter","mouseleave"],A);a.declarative("button-360-click",["click"],T);a.on("resize",C);t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBMouseEventsReadyTime",performance.now())};d.update=function(a){c.each(d.subViews,function(b,c){c.update(a)});m.usePeekHover&&("mouseleave"===a.type?H.dispatch("updateSelection",
b):"click"===a.type&&(b=J(a)||b))}}}var f=["A","jQuery","imageBlockUtils","postMetric"].concat(k.views);w.when.apply(w,f).register("ImageBlockView",function(){for(var c=arguments[0],h=arguments[1],f=arguments[2],k=arguments[3],l=[],E=4,F=arguments.length;E<F;E++)l.push(arguments[E]);return a(c,h,f,k,l)})});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(k,c,a,f,p,h,D){function r(b,
e,d,g){if(!a.isjQueryObjDefined(b.find(".a-button-selected"))){var h=z.getCurrentItem();if(!g||"chromeless-video"!==h.type||!q.autoplayVideo){g=0;"image"===h.type&&(g=Math.max(F(h.color,h.variant),0));var x=e+g;x>=d&&(g=0,x=e);e=a.getImageHash(h.color,g,q);-1!==e&&(G.dispatch("updateModel",{data:{index:g,thumbnailIndex:x,variant:e.variant,type:"image"}}),e=b.find(".item").get(x),a.selectGivenThumbnail(c(e),b))}}}function l(b,e,d){e=q.colorImages&&q.colorImages[e];var g=b;a.isDefined(e)&&(c.each(e,
function(e,c){b<q.maxAlts&&(a.createThumbnail({type:"image",index:e,thumbnailIndex:b,variant:c.variant},c.thumb,O,"imageThumbnail"),b++)}),h.isEnabled&&D.logAltImgRequestPlacedOnThumbnails(c,h,z),r(O,g,b,d));return b}function E(b,a){if("image"===b.type){var e=c("#image-canvas-caption #canvasCaption"),d,g=q.staticStrings,x=q.colorImages,h=b.color,m=b.index;a&&q.useIV?d=g.clickToExpand:x[h]&&x[h][m].hiRes&&q.useHoverZoom?(d=q.useHoverZoomIpad?g.touchToZoom:q.useClickZoom?g.clickToZoom:g.rollOverToZoom,
q.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+q.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):q.useIV&&(d=g.clickToExpand);e.html(d)}}function F(b,e){return a.getIndexForVariant(b,e,q)}function A(b,e){var d="a-dynamic-image";if(!q.acEnabled){var g;c.each(b.main,function(b,e){a.isDefined(g)||(g=parseFloat(e[1]/e[0])<=parseFloat(q.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=g}var h=a.getMaxDimensionsOfMainImage(b.main,M,q),x=h[0],m=h[1],h=c("\x3cdiv\x3e\x3c/div\x3e"),x={"max-height":x,
"max-width":m};h.addClass(d).css(x).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",b.main);return h}function t(b){var a=u.find(".swatchHoverExp");b=A(b);a.find(".imgTagWrapper").html(b);k.loadImageManually(b);return a}function y(b){var a=M.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");q.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(q.imgTagWrapperClasses)}function C(b,e){if("image"===b.type||"unavailable"===
b.type||"lazy-loaded"===b.type){var d=a.getImageHash(b.color,b.index,q);if(-1===d)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},a.lazyLoadingRequired(b,z,q)?L(b,!1,e):(G.dispatch("updateModel",d),a.showUnavailable(b.color)),-1;var c=u.find(".item.itemNo"+b.thumbnailIndex);if(!a.isjQueryObjDefined(c)){var c=b.thumbnailIndex,c=u.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+c+" maintain-height"),g=A(d,e);c.find(".placeHolder").replaceWith(g);
u.find(".list").append(c);k.loadImageManually(g)}y(c);G.dispatch("loadMagnifier");E(b);q.useIV&&a.isDefined(d.hiRes)&&c.css("cursor","pointer");b.isUserGenerated&&(c=z.getPreviousItem(),g=b.variant,a.isDefined(g)&&c.thumbnailIndex!==b.thumbnailIndex&&(h.isEnabled&&D.logAltImgRequestServed(h),p.postCountMetric("ImageThumbnailSelectedVariant:"+g),0===g.indexOf("IG")&&(p.postCountMetric("IGImageSelectedVariant:"+g),p.postCountMetric("IGImageSelectedEvent:"+b.interaction))));k.trigger("dp:image-block:update",
d)}}function N(b){var e=Math.max(F(b.color,z.getCurrentItem().variant),0),e=a.getImageHash(b.color,e,q);if(-1===e)return a.lazyLoadingRequired(b,z,q)?a.lazyLoadOnHoverEnabled(q)&&(J(".3",!0),a.spinner(u,!0),k.delay(function(){z.getCurrentEvent().data===b&&L(b,!0)},500)):a.showUnavailable(b.color),-1;var d=t(e);y(d);k.trigger("dp:image-block:update",e)}function J(b,a){a?u.css("opacity",b):c("#imageBlock").css("opacity",b)}function L(c,g,h){b=g;e=h;var m=c.color,n=q.colorToAsin[m];if(n&&n.asin){var x=
{};x.params={asin:n.asin,productGroupID:q.productGroupID,color:m};x.success=function(x){x?(a.ajaxState(n.asin,"success"),q.colorImages[m]=x.colorImage,a.isDefined(q.spin360ColorEnabled)&&(q.spin360ColorEnabled[m]=x.enable360),m===c.color&&(g&&b?c===z.getCurrentEvent().data&&(d(c),N(c)):(x={type:"updatedData",data:z.getCurrentItem(),onload:h||e},G.dispatch("updateView",x))),w.register(a.rankedImagesReadyEvent(n.asin))):a.ajaxState(n.asin,"fail")};x.error=function(){a.ajaxState(n.asin,"fail")};x.indicator=
a.spinner(u);a.ajaxState(n.asin,void 0)&&"fail"!==a.ajaxState(n.asin,void 0)||(J(".3",g),f.load("/gp/product/features/apparel-main-image/ranked-images.html",x),a.ajaxState(n.asin,"sent"));return q.colorImages&&q.colorImages[m]}}function d(b,e){a.lazyLoadingRequired(b,z,q)||(c("#imageBlock").css("opacity","1"),u.css("opacity","1"),a.spinner(u,!1),u.find("li").removeClass("selected"),c("#image-canvas-caption #canvasCaption").empty(),a.hideUnavailable(),e&&u.find(".list .item").remove())}function m(){var b=
u.find(".item .imgTagWrapper"),e=a.getContainerHeight(M,q.holderRatio,q.holderMaxHeight);0<e&&(M.height(e),b.height(e));u.find("img.a-dynamic-image").each(function(){var b=c(this);b.data("a-manual-replacement")&&k.loadDynamicImage(this);var e=b.data("a-dynamic-image"),e=a.getMaxDimensionsOfMainImage(e,M,q);b.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function H(b){E(z.getCurrentItem(),"mouseenter"===b.type)}var n,q,z,G,O,u,M,b,e,g;return function(b,e,c,h){n=this;q=b;z=e;G=h;q.colorImages[q.landingAsinColor]=
q.colorImages[q.defaultColor];n.render=function(b,e,c,h,m,n,f){u=c;O=h;M=m;g=l(e,b,n);n||(b=z.getCurrentItem(),a.lazyLoadingRequired(b,z,q)&&G.dispatch("updateModel",{data:{type:"lazy-loaded"}}));d(z.getCurrentItem(),!n);C(z.getCurrentItem(),f);return g};n.update=function(b){var e=b.data;z.setCurrentEvent(b);"ingress"!==e.type&&d(b.data,!1);"swatchHover"===b.type?e.color===z.getCurrentItem().color?C(z.getCurrentItem()):b.captured||-1===N(e)||(b.captured=!0):"image"===e.type&&(e.interaction=b.type,
e.isUserGenerated=!0,"mouseenter"===b.type&&p.postCountMetric("dpcc_imageThumbHovered_"+(e.thumbnailIndex+1)+"_"+g),C(e),q.usePeekHover&&"click"!==b.type||(a.selectGivenThumbnail(b.$declarativeParent,O),"click"===b.type&&p.postCountMetric("dpcc_imageThumbClicked_"+(e.thumbnailIndex+1)+"_"+g)))};G.register("imageHover",H);G.register("resize",m)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(k,
c,a,f,p,h){function D(a){J?a.css("cursor","url('"+A.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function r(c){var d=c.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);c={};if(a.isDefined(d))for(var d=d[1].split("_"),h=0;h<d.length;h++){var f=d[h].match(/^([A-Z]+)(\d+(\.\d+)?)$/);a.isDefined(f)&&(c[f[1]]=parseInt(f[2],10))}return c}function l(l,d){function m(){var b;d.useClickZoom?(b=d.offsetInClickZoom,b=[Math.min(1,Math.max(0,
I[0]-(F[0]+b))/(F[2]-2*b)),Math.min(1,Math.max(0,I[1]-(F[1]+b))/(F[3]-2*b))]):b=g&&g.updatePosition();if(b&&e&&e.detailSize){var a=[e.detailSize[0]-e.rect.width,e.detailSize[1]-e.rect.height];k.capabilities.rtl?e.detailImage.get(0).style.right=-(b[0]*a[0])+"px":e.detailImage.get(0).style.left=-(b[0]*a[0])+"px";e.detailImage.get(0).style.top=-(b[1]*a[1])+"px"}}function H(b){return b.offsetParent().hasClass("a-dynamic-image-container")}function n(b){var a=Z?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:
"";I=Z?[a.pageX,a.pageY]:[b.pageX,b.pageY];if(k.capabilities.rtl){var e=c(t).width();I=Z?[e-a.pageX,a.pageY]:[e-b.pageX,b.pageY]}}function q(b){Z&&b.preventDefault();n(b);d.useClickZoom?b=[F[0],F[1],F[0]+F[2],F[1]+F[3]]:(b=g?g.offset:l.offsetParent().offset(),b=A.acEnabled?[b.left,b.top,y.width()+b.left,y.height()+b.top]:[K[0]+b.left,K[1]+b.top,K[0]+K[2]+b.left,K[1]+K[3]+b.top]);I[0]<b[0]||I[1]<b[1]||I[0]>=b[2]||I[1]>=b[3]||A.acEnabled&&!H(l)?(d.fadeMagnifier?T||(T=!0,w=setTimeout(function(){z(!0)},
500)):d.useClickZoom||z(),aa&&(aa=!1,clearTimeout(B))):(aa||(aa=!0,B=setTimeout(function(){f.postCountMetric("dppc_hoverZoomOpened");p.isEnabled&&h.logHoverZoomRequestServed(p)},1E3)),d.fadeMagnifier&&T&&(T=!1,clearTimeout(w)),m())}function z(b){b&&u.suppressMagnifier(!0);if(R&&(e&&e.hide(),g&&(g.destroy(),g=null),R=!1,Z?(l.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),c(document).trigger("disengaged.magnifier")):c(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),
E(),b))l.one("click.magnifier touchstart.magnifier",function(b){G(b,!0)})}function G(b,a){a&&u.suppressMagnifier(!1);if(!R&&!x&&(0===ia&&(f.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),ia=1),C[fa]||(f.postCountMetric("dppc_hoverMain"),C[fa]=1),K=[l.position().left,l.position().top,l.width(),l.height()],fa&&(n(b),e?e.refit().show():e=new N,d.useClickZoom||(g=g||new da),F=e.getWindowSize(),m()),R=!0,Z?(l.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",
q).bind("touchend.magnifier",z),c(document).trigger("engaged.magnifier")):(A.acEnabled?y.unbind("mousemove.magnifier"):l.unbind("mousemove.magnifier"),c(document).trigger("engaged.magnifier").bind("mousemove.magnifier",q)),a)){var h=c("#zoomWindow");if(0<h.length)h.one("click.magnifier touchend.magnifier",function(b){z(!0)})}}function E(){d.useHoverZoom&&(Z?l.bind("touchstart.magnifier touchmove.magnifier",G):A.acEnabled?H(l)&&y.bind("mousemove.magnifier",G):l.bind("mousemove.magnifier",G))}var u=
this,y=l.offsetParent(),b={detailImageUrl:l.attr("data-old-hires"),location:"over",locationElement:l,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=c.extend(b,d);d.adjustment=[10,0,-10,0];var e=null,g=null,I=null,K=null,F=null,U={"null":1,"":1,undefined:1},R=!1,x=!1,fa=d.detailImageUrl,Z=d.useHoverZoomIpad||0,ia=0,C={},da=function(){function b(a){var c=Math.round(Math.min(l.width(),e.rect.width/a));a=Math.round(Math.min(l.height(),e.rect.height/a));x.css({width:c,height:a});g=[c,a]}var a=this,
g=[0,0],h=(e.detailSize&&e.detailSize[0]||5E8)/K[2],m=(e.detailSize&&e.detailSize[1]||5E8)/K[3],h=m>h?m:h;c("#magnifierLens").remove();var x=c("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});d.generalImageUrls.zoomLensBackground&&x.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});A.showMagnifierOnHover?D(x):x.css("cursor","pointer");a.updatePosition=function(){var b=[K[2]-g[0],K[3]-g[1]],e=0>=b[0]?.5:Math.max(0,Math.min(1,(I[0]-g[0]/2-K[0]-a.offset.left)/b[0])),
c=0>=b[1]?.5:Math.max(0,Math.min(1,(I[1]-g[1]/2-K[1]-a.offset.top)/b[1])),d=K[0]+Math.round(e*b[0]),b=K[1]+Math.round(c*b[1]);x.get(0).style.left=d+"px";x.get(0).style.top=b+"px";return[e,c]};a.destroy=function(){x.remove()};a.offset=l.offsetParent().offset();b(h);a.updatePosition();x.appendTo(l.parent());e.detailImage[0].complete||e.detailImage.load(function(){var c=e.detailImage.width()/K[2];b(c);a.updatePosition()})};da.preload=function(){u.preload(d.generalImageUrls.lensBackgroundUrl)};var N=
function(){function b(){var e={};if("over"===d.location){var e=d.useClickZoom,x={},m=c("#leftCol"),n=c("#centerCol"),k=c("#rightCol"),q=c("#hover-zoom-end"),H=c("#actionPanelContainer"),r=a.isjQueryObjDefined(m)?m.outerHeight():n.outerHeight();x.top=a.isjQueryObjDefined(m)?m.offset().top:n.offset().top;x.bottom=r+x.top;x.right=a.isjQueryObjDefined(k)?k.offset().left:H.offset().left;x.left=e?0:m.offset().left+m.outerWidth();a.isjQueryObjDefined(q)&&q.offset().top>x.bottom&&(x.bottom=q.offset().top);
e=x}else"right"===d.location&&(e=l.offset(),e={left:e.left+l.outerWidth(),top:e.top,right:e.left+l.outerWidth()+400,bottom:e.top+400});d.minHeightElement&&(e.bottom=Math.max(e.bottom,e.top+c(d.minHeightElement).outerHeight()));e.bottom=Math.min(e.bottom,c(t).scrollTop()+c(t).height());e.left+=h[0];e.top+=h[1];e.right+=h[2];e.bottom+=h[3];e.width=e.right-e.left;e.height=e.bottom-e.top;d.enhancedHoverOverlay&&a.isDefined(t.pageXOffset)&&(x=c(t).width(),e.width=x-e.left+t.pageXOffset-18,e.height-=14);
f.css({left:e.left,top:e.top,width:e.width,height:e.height});g.rect=e;return g}function e(b){var a=new Image;g.detailSize=[0,0];a.onload=function(){g.detailSize=[a.width,a.height];m()};a.src=b.attr("src");if(0<a.width&&0<a.height)g.detailSize=[a.width,a.height];else if(d.detailImageSize)g.detailSize=d.detailImageSize;else{b=r(a.src);var c=K[2]/K[3];b.SS||b.AA?(b=b.SS||b.AA,g.detailSize=[b,b]):b.SX?g.detailSize=[b.SX,Math.round(b.SX/c)]:b.SY?g.detailSize=[Math.round(b.SY*c),b.SY]:b.SL&&(g.detailSize=
1<=c?[b.SL,Math.round(b.SL/c)]:[Math.round(b.SL*c),b.SL])}}var g=this,h=d.adjustment;c("#zoomWindow").remove();var x={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(x.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",x.border="1px solid #949494",x.borderColor="rgb(148,148,148)");var f=c("\x3cdiv id\x3d'zoomWindow' /\x3e").css(x);d.fadeMagnifier&&f.fadeIn(200);d.useClickZoom&&(J?f.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(f.css("cursor","-webkit-zoom-out"),
f.css("cursor","-moz-zoom-out"),f.css("cursor","zoom-out")));g.updateImage=function(b){b=c("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();f.append(b);c(document).trigger("updated.magnifier");g.detailImage=b;e(g.detailImage)};g.refit=function(){b();e(g.detailImage);return g};d.fadeMagnifier?(g.show=function(){f.fadeIn(200);return g},g.hide=function(){f.fadeOut(200);return g}):(g.show=function(){f.show();return g},g.hide=function(){f.hide();
return g});g.destroy=function(){f.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,g.rect.height]};g.updateImage(fa);b();f.appendTo(document.body)},T=!1,w,aa=!1,B;u.preload=function(b){b=c.makeArray(b);for(var a=b.length,e=0;e<a;e++)b[e]instanceof Array?u.preload(b[e]):"string"===typeof b[e]&&b[e]&&!U[b[e]]&&(U[b[e]]=new Image,U[b[e]].src=b[e])};u.changeImage=function(b,a){R&&z();fa=a;l.attr("src",b);u.preload(b);K=[l.position().left,l.position().top,l.width(),
l.height()];a&&("immediately"===d.preload?u.preload(a,!0):c(t).ready(function(){u.preload(a)}),e?e.updateImage(a):l.attr("data-old-hires",a))};u.destroy=function(){A.acEnabled?y.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):l.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");c(document).unbind("mousemove.magnifier");g&&g.destroy();g=null;e&&e.destroy();e=null};u.detailImage=function(){return e.detailImage};u.suppressMagnifier=function(b){x=
b};u.isEngaged=function(){return R};u.engageMagnifier=G;u.disengageMagnifier=z;l[0].complete?E():l.one("load",E);u.preload(l.attr("src"));t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var ca=d.detailImageUrl,b=function(){u.preload(ca,!0);d.useClickZoom||da.preload()},V=d.preload;V.constructor!==Array&&(V=[V]);for(var W=0;W<V.length;W++)if("immediately"===V[W])b();else if(c(t)[V[W]])c(t)[V[W]](b);else c(t).bind(V[W],b)}return u}function E(){if(A.useHoverZoom){var f=
{adjustment:[0,0,1,1],generalImageUrls:A.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:A.useHoverZoomIpad,useHoverZoom:A.useHoverZoom,useClickZoom:A.useClickZoom,fadeMagnifier:A.fadeMagnifier,zoomOutIcon:A.staticImages.zoomOutCur,enhancedHoverOverlay:A.enhancedHoverOverlay||A.atfEnhancedHoverOverlay};C&&(C.destroy(),C=void 0);var d=N.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");a.isjQueryObjDefined(d)?A.useClickZoom?
(d.one("click.loadmagnifier touchstart.loadmagnifier",function(a){C=new l(d,f);C.engageMagnifier(a,!0)}),J?d.css("cursor",'url("'+A.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in"))):C=new l(d,f):p.isEnabled&&h.logHoverZoomApplicability(c,p)}}var F,A,T,y,C,N,J=navigator.userAgent.match(/msie|trident/i);return function(a,c,h,f){F=this;A=a;T=c;p.refToModel=T;y=f;F.render=function(a,c,d,h,f,m){N=d;C&&(C.destroy(),C=void 0)};
F.update=function(a){};y.register("loadMagnifier",E);y.register("resize",E)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(k,c,a,f){function p(c,h,k){c=(c=k?k:a.getColorFromState(h.getState().hovered_variations,r))&&""!==c?c:r.defaultColor;E.dispatch("updateView",{type:"swatchHover",data:{color:c}});f.postCountMetric("swatchHover")}function h(c,h,k,D){c=(c=D?D:a.getColorFromState(h.getState().selected_variations,r))&&""!==c?c:r.defaultColor;
c===l.getCurrentItem().color?"function"===typeof k&&k():(E.dispatch("updateSelection",{type:"swatchClick",data:{color:c},onload:k}),f.postCountMetric("swatchClick"))}var D,r,l,E;return function(a,c,f,y){D=this;r=a;l=c;E=y;k.on("image-block-twister-swatch-hover",p);k.on("image-block-twister-swatch-click",h);D.render=function(a,c,h,f,d){};D.update=function(a){}}});"use strict";w.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",
function(k,c,a,f,p,h,D){function r(b,a,e,g){!d.autoplayVideo||K||d.useChromelessVideoPlayer?!f.isjQueryObjDefined(b.find(".a-button-selected"))&&(e=m.getCurrentItem(),!g||d.prioritizeVideos||"chromeless-video"===e.type&&d.autoplayVideo)&&(g=f.getVideoHash(e.color,0,d),-1!==g&&(a+=0,H.dispatch("updateModel",{data:{index:0,thumbnailIndex:a,variant:g.variant,type:d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),a=b.find(".item").get(a),f.selectGivenThumbnail(c(a),b))):(f.selectGivenThumbnail(b.find("img:last"),
b),f.fadeToThumbnail(b.find("img").length-1,G,b))}function l(b){var a=m.getCurrentItem().color;if(d.useChildVideos&&!d.colorToVideo[a]){var e=function(){if(b){d.colorToVideo[a]=b;var e={type:"updatedData",data:m.getCurrentItem()};H.dispatch("updateView",e)}};d.lazyLoadExperienceDisabled?e():w.when(f.rankedImagesReadyEvent(d.colorToAsin[a].asin)).execute(function(){e()})}}function E(b){if(!d.useChildVideos)return f.lazyLoadingRequired(m.getCurrentItem(),m,d)?void 0:d.videos;if(d.colorToVideo[b])return d.colorToVideo[b];
var a=d.colorToAsin[b];if(a&&a.asin){var e={};e.params={asin:a.asin,productGroupID:d.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP};d.isDPXFeatureEnabled||(e.success=function(b){l(b)},p.load("/gp/product/features/apparel-main-image/videos.html",e));return d.colorToVideo&&d.colorToVideo[b]}}function F(){H.dispatch("selectThumbnail",f.useTabbedImmersiveView(d)?1:0)}function A(b,e,g,d){return a.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],
streamingUrls:e.url,swfUrl:g.swfUrl,foresterMetadataParams:g.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=f.isjQueryObjDefined(b.find("video"))?"HTML5":"FLASH";h.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){F();h.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){F();h.postCountMetric("dppc_chromelessVideo:ERROR")},
ended:function(){u.seek(0)}},cuePoints:[{values:e.durationSeconds-1,type:"position",callback:function(a,e,g){a=g.durationSeconds-g.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*a,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});F();c(this).show().css("opacity",1)})}}]})}function t(a){if("chromeful-video"===a.type||"chromeless-video"===a.type){var e=f.getVideoHash(a.color,a.index,d);if(-1===e)return-1;if("chromeful-video"===
a.type){a=G.width()/G.height();var h=parseInt(e.videoWidth,10),l=parseInt(e.videoHeight,10);f.updateAspectRatio(a,h,l,q);u?(u.show(),f.loadMediaIntoAiry(u,e,M,d.tabletWeb)):u=d.tabletWeb?g:f.createAiryInstanceForChromeful(q,e,M,null,d.autoplayVideo,G,z,n);b:if(f.useTabbedImmersiveView(d)){if(1<f.getVideosCount(m.getCurrentItem().color,d)){if(f.isDefined(O)){z.show();break b}O=c('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(d.staticStrings.watchMoreVideos);z.find("#videoCaption").append(O);
k.declarative.create(O,"videoIngressClick",b)}f.playVideoInImmersiveView(d,m.getCurrentItem().color)&&(k.declarative.create(q,"videoIngressClick",b),q.children().css("z-index","-1"),q.css("display","inline-block"))}else z.find("#videoCaption").text(d.staticStrings.playVideo),z.show();e=u;d.autoplayVideo&&e&&!K&&(f.toggleVideoCaption(z),e.setVolume(0),e.show(),e.play(),K=!0)}else u?(u.show(),f.loadMediaIntoAiry(u,e,M,d.tabletWeb),u.play(),z.show()):(u=A(q,e,M))&&u.play()}}function y(a,e,g){var m=E(e);
e=a;f.isDefined(m)&&0<m.length&&d.alwaysIncludeVideo&&a===d.maxAlts&&(n.find(".item:last").remove(),a--);f.isDefined(m)&&(c.each(m,function(e,g){if(a<d.maxAlts){var x=d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",k={type:x,index:e,thumbnailIndex:a,variant:g.variant};b={type:"video-ingress",index:e,thumbnailIndex:a,variant:g.variant};f.useTabbedImmersiveView(d)&&("chromeful-video"===x&&(S+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb",
"")),d.altsOnLeft||(S+=" a-align-top"));f.createThumbnail(k,g.thumb,n,S);if(2===d.dp60VideoPosition){var l=n,k=d.dp60VideoPosition;if(0!==k){var q=l.children(".imageThumbnail"),l=l.children(".videoBlockIngress");q&&l&&q[k-1]&&c(q[k-1]).before(l[0])}}f.useTabbedImmersiveView(d)&&(C(n.find(".videoBlockIngress img"),d.videoIngressATFSlateThumbURL),k=1<m.length?"multiple-videos":"one-video",(q=1<m.length?m.length+" "+d.staticStrings.multipleVideos:d.staticStrings.singleVideo)&&n.find(".videoBlockIngress").append(n.find("#videoCount_template").clone().text(q).attr("id",
"videoCount")).addClass(k));I||(I=!0,h.postCountMetric("chromeless-video"===x?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));a++}if(f.useTabbedImmersiveView(d))return!1}),r(n,e,a,g));return a}function C(b,a){var e=b.attr("src");if(e&&a){b.attr("src",a);var c=new Image;c.onload=function(a){b.attr("src",e)};c.src=e}}function N(a){u&&u.pause();a.data=b;a.clickTimeStamp=a.$event.timeStamp;var e="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";H.dispatch("imageClick",
a);h.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);h.postCountMetric(e)}function J(b){g=b.airy;g.hide=function(){g.pause();k.$("#main-video-container").find(".vse-airy-container").hide()};g.show=function(){k.$("#main-video-container").find(".vse-airy-container").show();g.play()};g.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}var L,d,m,H,n,q,z,G,O,u,M,b,e,g,I=!1,K=!1,S="videoThumbnail";return function(a,g,x,r){L=this;d=a;m=g;H=r;M=d.airyConfig;d.colorToVideo={};d.colorToVideo[d.landingAsinColor]=
d.colorToVideo[d.defaultColor]=d.videos;L.render=function(b,a,g,h,x,l){n=h;q=x.find("#main-video-container");z=q.parent().find("#video-canvas-caption");G=c("#main-image-container");d.useChromelessVideoPlayer||q.addClass("chromeful-container");e=y(a,b,l);t(m.getCurrentItem());f.useTabbedImmersiveView(d)&&k.declarative("videoIngressClick",["click"],N);b=m.getCurrentItem().color;a=f.getVideoHash(b,0,d);-1!==a&&d.tabletWeb&&(b=f.getNilgiriServiceAjaxRequest(d,b,a),D.get(k,"#main-video-container",b,function(){k.$("#main-video-container").find(".vse-airy-container").hide()},
function(){k.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return e};L.update=function(a){var c=a.data;"ingress"!==c.type&&u&&(u.hide(),q.parent().css("z-index",-1),z.hide());if("swatchHover"===a.type)c.color===m.getCurrentItem().color?t(m.getCurrentItem()):a.captured||f.lazyLoadingRequired(c,m,d)&&!f.lazyLoadOnHoverEnabled(d)&&t(m.getCurrentItem());else if("chromeful-video"===c.type||"chromeless-video"===c.type)"mouseenter"===a.type&&h.postCountMetric("dpcc_videoThumbHovered_"+
(c.thumbnailIndex+1)+"_"+e),t(c),d.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,n),"click"===a.type&&f.useTabbedImmersiveView(d)&&(h.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+e),b.action="videoIngressClick",b.clickTimeStamp=a.$event.timeStamp,H.dispatch("videoIngressClick",b),h.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp)))};if(d.isDPXFeatureEnabled)k.on("triggerVideoAjax",l);k.on("vseAiry",J)}});"use strict";w.when("A","a-modal",
"jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(k,c,a,f,p,h,D,r,l){function E(b){return b.hiRes||b.large||b.main[b.main.length-1]}function F(){v.find("#ivTitle").click(function(){W.hide()})}function A(){P=Na?{type:"360-spin"}:ca.getCurrentItem()}function w(){var b=v.find("#ivStage"),a=W.$container.find(".a-popover-wrapper"),e=a.find(".a-popover-inner"),a=a.height()-
l.getDimension(e,"padding-top")-l.getDimension(e,"padding-bottom");v.css("height",a);var e=v.find("#ivTitle").outerHeight(!0),c=v.find("#ivVariationSelection").outerHeight(!0),g=v.find("#ivMediaSelection").outerHeight(!0),d=v.find("#ivThumbs"),h=l.getDimension(d,"margin-top")+l.getDimension(d,"margin-bottom");d.css("height",a-e-c-g-h);v.find("#ivLargeImage").css("height",a);b.css("width",v.width()-l.getDimension(v,"padding-left")-l.getDimension(v,"padding-right")-v.find("#ivThumbColumn").width()-
l.getDimension(b,"margin-left")-l.getDimension(b,"margin-right"))}function y(){v.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").show(),"chromeful-video"===P.type&&v.find("#ivVideo_"+P.index).click()):"images"===b?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").hide(),"chromeful-video"===P.type&&(0===ba&&0===X?v.find("#iv360").click():0===ba?v.find("#ivHeroImage_0").click():
v.find("#ivImage_0").click())):"videos"===b&&(v.find("#ivVideoList").show(),v.find("#ivThumbs").hide(),"chromeful-video"!==P.type?v.find("#ivVideoList_0").click():v.find("#ivVideoList_"+P.index).click())})}function C(){var b=v.find("#ivStage").find("#ivLargeImage"),a=b.width(),e=b.height(),c=b.find(".fullscreen");c.removeAttr("style");var g=c.width(),d=c.height();0<c.length&&(c[0].naturalWidth&&(g=c[0].naturalWidth),c[0].naturalHeight&&(d=c[0].naturalHeight));b.css("cursor","auto");var g=0===g?1:
g,d=0===d?1:d,h=Math.min(a/g,e/d),f=d*h,m=g*h;1>h?(Oa?b.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in")),za=!0):za=!1;g=Math.min(m,g);d=Math.min(f-20,d);c.css({"margin-top":(e-d)/2,"margin-left":(a-g)/2,height:d,width:g});b.css("visibility","visible");Aa=!1}function N(b){var a=v.find("#ivLargeImage");a.css("visibility","hidden");a.empty();l.animateStageIn(a);a.append(b);C()}function J(){Y&&Y.pause();
v.find("#ivLarge360").css("display","none");v.find("#ivLargeVideo").css("display","none");v.find("#ivLargeImage").css("display","none");z()}function L(b){J();v.find("#ivLargeImage").css("display","block");var e;"hero-image"===b?f.isDefined(ja)&&(e=E(ja[P.index])):f.isDefined(ra)&&(e=E(ra[P.index]));if(f.isDefined(e)){v.find(".fullscreen").remove();var c=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),g=v.find("#ivLargeImage");l.animateStageOut(g,function(){c.load(function(){N(c)});if(c[0].complete)N(c);
else{g.empty();var b=(g.height()-104)/2,e=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:b+"px",left:e+"px"}).appendTo(g)}})}}function d(){var b=parseInt(P.index,10)+1;b>=ma.length||v.find("#ivVideo_"+b).click()}function m(){var b;f.isDefined(ma)&&(b=ma[P.index]);if(f.isDefined(b)){J();var a=v.find("#ivLargeVideo").css("display","block");Y?(Y.isDetached()&&Y.attach(a[0]),f.loadMediaIntoAiry(Y,b,wa,B.tabletWeb),Y.show()):(Y=f.createAiryInstanceForChromeful(a,
b,wa,"ImmersiveView"),wa.enableContinuousPlay&&Y.bind("ended",d));Y.play({isAsync:!0})}}function H(){A();var b;b="hero-image"===P.type?v.find("#ivHeroImage_"+P.index):"image"===P.type?v.find("#ivImage_"+P.index):"chromeful-video"===P.type||"chromeless-video"===P.type?v.find("#ivVideo_"+P.index):"360-spin"===P.type?v.find("#iv360"):f.isDefined(ja)?v.find("#ivHeroImage_"+P.index):v.find("#ivImage_"+P.index);f.isjQueryObjDefined(b)||(b=v.find("#ivImage_0"));n(b)}function n(b){v.find(".ivThumb").removeClass("selected");
b.addClass("selected");b.hasClass("ivThumbVideo")?(P.type="chromeful-video",P.index=b.attr("id").split("_")[1],m()):b.hasClass("ivHeroImage")?(P.type="hero-image",P.index=b.attr("id").split("_")[1],L(P.type)):b.hasClass("iv360Image")?(P.type="360-spin",P.index=0,q()):(P.type="image",P.index=b.attr("id").split("_")[1],L(P.type))}function q(){J();v.find("#ivLarge360").css("display","block");b();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});l.animateStageIn(a)},
200);O();h.postCountMetric("dppc_click360");sa=Date.now()}function z(){0<sa&&(G("dppc_duration360",Date.now()-sa),sa=0)}function G(b,a){t.ue&&t.ue.count(b,a)}function O(){if(0<pa){var b=v.find(".iv360Hint");b.removeClass("iv360HintFaded");b.animate({opacity:1},200)}}function u(b,e){if(pa<b.length){var c=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:ta+"px"});c.hide();e.append(c);c.get(0).onload=function(){e.closest(document.documentElement).length&&(pa++,1===pa&&(O(),0<sa&&G("dppc_loadTime360",
Date.now()-sa)),0<Ga&&G("dppc_perSpriteloadTime360",Date.now()-Ga),v.find("#iv360Spinner").hide(),c.show(),xa=5*Q.imageLocations[Math.floor(ya/Q.imageLocations[0].length)][ya%Q.imageLocations[0].length],u(b,e))};c.attr("src",b[pa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function M(b){if(f.isDefined(Q.spriteWidthSizes)&&0<Q.spriteWidthSizes.length){var a=Q.spriteWidthSizes,e=a.length,c=a[0],g=a[e-1];if(b<=c)return c;if(b>g)return g;for(c=0;c<e;c++)if(b>a[c]&&b<=a[c+1])return a[c+
1]}else return b}function b(){var b=v.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",B.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",
transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,e())}function e(){if(f.isDefined(Q.spriteURLs)&&f.isDefined(v)&&Ha&&!Ia){var b=v.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});f.isDefined(Q.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Q.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(B.staticStrings.dragToSpin).appendTo(e);
e.appendTo(b);var e=Q.imageWidth,c=Q.imageHeight,d=b.parent().width(),h=b.parent().height(),m=0,x=0;e/c>d/h?(ua=M(d),va=Math.round(c/e*ua),na=Math.ceil(d),ta=Math.ceil(va/ua*d),x=(h-ta)/2):(va=M(h),ua=Math.round(e/c*va),ta=Math.ceil(h),na=Math.ceil(ua/va*h),m=(d-na)/2);b.css({"margin-left":m,"margin-top":x,width:na+"px",height:ta+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*na+"px");u(Q.spriteURLs,v.find("#image-360-sprites"),0);e=v.find("#ivLarge360");
e.bind("mousedown",S);e.bind("touchstart",g);e.bind("touchmove",I);e.bind("touchend",K);a(document).bind("mousemove",U);a(document).bind("mouseup",R);f.isDefined(B.staticImages.grab)&&b.css("cursor","url('"+B.staticImages.grab+"'), auto");Ia=!0}}function g(b){Ba=!0;Ja=b.originalEvent.targetTouches[0].clientX}function I(b){Ba&&(x(b.originalEvent.targetTouches[0].clientX-Ja),Ja=b.originalEvent.targetTouches[0].clientX)}function K(b){Ba&&(Ba=!1)}function S(b){Ca=!0;Ka=b.originalEvent.clientX;f.isDefined(B.staticImages.grabbing)&&
(b=v.find("#ivLarge360"),b.css("cursor","url('"+B.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+B.staticImages.grabbing+"'), auto"));return!1}function U(b){Ca&&(x(b.originalEvent.clientX-Ka),Ka=b.originalEvent.clientX)}function R(b){Ca&&(Ca=!1,f.isDefined(B.staticImages.grab)&&(b=v.find("#ivLarge360"),b.css("cursor","url('"+B.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function x(b){for(b=xa-=b/na*180;0>b;)b+=
360;for(;360<b;)b-=360;xa=b;var a;b=360;for(var e=0;e<pa;e++)for(var c=0;c<Q.imageLocations[e].length;c++){var g=Math.abs(xa-5*Q.imageLocations[e][c]);g<b&&(b=g,a=e*Q.imageLocations[0].length+c)}a!==ya&&(b=Math.floor(a/Q.imageLocations[0].length),b!==Math.floor(ya/Q.imageLocations[0].length)&&(f.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),e=v.find("#image-360-sprites").children(),La.drawImage(e[b],0,0)),b=v.find(".iv360Hint").not(".iv360HintFaded"),f.isDefined(b)&&(b.addClass("iv360HintFaded"),
b.animate({opacity:0},750)));ya=a;b=a%Q.imageLocations[0].length*-1*na;a=-1*Math.floor(a/Q.imageLocations[0].length)*ta;e=v.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+b+"px, "+a+"px, 0)");e.css("transform","translate3d("+b+"px, "+a+"px, 0)")}function fa(){v.delegate(".ivThumb","click",function(){var b=a(this);n(b)});v.delegate(".ivThumbVideoListOuter","click",function(){v.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
P.type="chromeful-video";P.index=b.attr("id").split("_")[1];m()})}function Z(){Y&&!Y.isDetached()&&(wa.volume=Y.getVolume(),Y.detach(),!document.all||t.atob||document.addEventListener||(Y=null));v.find("#ivLargeImage").empty();z()}function ia(b,a){return 0<a?a/2:Math.min(0,Math.max(a,b))}function ga(b){var e=qa.left-(b.pageX-Da[0])*Ea;k.capabilities.rtl&&(e=qa.left-(a(t).width()-b.pageX-Da[0])*Ea);b=qa.top-(b.pageY-Da[1])*Ea;e=ia(e,Fa.left);b=ia(b,Fa.top);v.find(".fullscreen").css({left:e,top:b})}
function da(){v.delegate("#ivLargeImage","click",function(b){if(Aa)C();else if(za){v.find(".fullscreen").removeAttr("style");if(za){var a=v.find("#ivLargeImage"),e=a.find(".fullscreen");Oa?a.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(a.css("cursor","-webkit-zoom-out"),a.css("cursor","-moz-zoom-out"),a.css("cursor","zoom-out"));Aa=!0;var c=v.find("#ivLargeImage");Fa.left=c.width()-e.width();Fa.top=c.height()-e.height();var c=a.height()/2,g=a.width()/2;Da=[a.offset().left+g,a.offset().top+
c];qa.top=c-e.height()/2;qa.left=g-e.width()/2;e.css({position:"relative",left:qa.left,top:qa.top});Ea=Math.max(e.height()/a.height(),e.width()/a.width())}ga(b)}});v.delegate("#ivLargeImage","mousemove",function(b){Aa&&ga(b)})}function ka(b){if(f.isImmersiveViewEnabled(B,ca.getCurrentItem().color)){Na=f.isDefined(b)&&"button-360-click"===b.action;D.isEnabled&&r.logImmersiveViewRequestServed(D);h.postCountMetric("dppc_immersiveViewOpened");if(f.isDefined(W))W.show();else{b=a("#auiImmersiveViewDiv");
var e=a(t).height()-150,g=a(t).width()-75;W=c.create(b,{name:"immersiveView",activate:"onclick",width:g,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(Ma){v=a("#ivMain");b=ca.getCurrentItem().color;ra=B.colorImages[b];ja=B.heroImage[b];ma=B.useChildVideos?B.colorToVideo[b]:B.videos;ea=ha()&&B.spin360ColorEnabled[b];Q=ha()?B.spin360ColorData[b]:void 0;A();la=X=oa=ba=0;f.isDefined(ja)&&(X=ja.length);f.isDefined(ra)&&(ba=ra.length);f.isDefined(ma)&&(oa=ma.length);ea&&(la=1);l.populateTitle(v.find("#ivTitle"),
45,B);l.populateVariationSelection(v.find("#ivVariationSelection"));b=v.find("#ivMediaSelect");0===ba+la||0===oa?(b.parent().hide(),v.find("#ivThumbs").addClass("noMediaSelection")):(b.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(B.staticStrings.allMedia+" ("+(X+ba+la+oa)+")").appendTo(b),a("\x3coption/\x3e").attr("value","images").text(B.staticStrings.images+" ("+(X+ba+la)+")").appendTo(b),a("\x3coption/\x3e").attr("value","videos").text(B.staticStrings.videos+" ("+oa+
")").appendTo(b),b.parent().show(),b.val("all"));b=v.find("#ivThumbs");b.find(".ivRow").not(".placeholder").remove();for(var e=X+ba+oa+la,d=g=0;g<e;)for(var m=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),x=0;3>x&&g<e;x++,g++,d++)if(d<X){var n=ja[g].thumb,q=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(m);q.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(n)+'") center no-repeat')}else if(d>=
X&&d<ba+X)n=ra[g-X].thumb,q=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-X)).appendTo(m),q.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(n)+'") center no-repeat');else if(d>=X+ba&&d<ba+X+la)q=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(m),q.find(".ivThumbImage").css("background",'url("'+(f.isDefined(B.staticImages.icon360)?l.getResizedThumbnailURL(B.staticImages.icon360,
!0):"")+'") center no-repeat');else if(n=ma[g-ba-X-la],q=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(g-ba-X-la)).appendTo(m),q.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),f.isDefined(n)){var H={position:"triggerTop"},z=v.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");z.find(".ivVideoPopoverTitle").text(n.title);z.find(".ivVideoPopoverDuration").text(n.durationTimestamp);
H.inlineContent=z[0];k.declarative.create(q,"a-tooltip",H)}b=v.find("#ivVideoList");b.find(".ivThumbVideoListOuter").not(".placeholder").remove();e=b.find(".placeholder");for(g=0;g<oa;g++)d=ma[g],m=e.clone().removeClass("placeholder").appendTo(b),m.attr("id","ivVideoList_"+g),m.find(".ivThumbImage").css("background",'url("'+d.thumbUrl+'") center no-repeat'),m.find(".ivThumbTitle").text(d.title),m.find(".ivThumbDuration").text(d.durationTimestamp);v.find("#ivLarge360").empty();pa=0;Ia=Ha=!1;wa=B.airyConfig;
Ma=!1;Qa()}}}function Pa(b){var a=B.colorToAsin[b],c={},g=500;if(a&&a.asin){c.params={asin:a.asin};var d="360"+a.asin,m=Date.now();c.success=function(a){G("dppc_asyncRequestTime360",Date.now()-m);a&&f.isDefined(a.spin360.spin360Model)?(f.ajaxState(d,"success"),B.spin360ColorData[b]=a.spin360.spin360Model,b===ca.getCurrentItem().color&&(Q=B.spin360ColorData[b],e())):c.error()};c.error=function(){h.postCountMetric("dppc_asyncFailed360");G("dppc_asyncRequestTime360",Date.now()-m);g*=2;16E3>=g?setTimeout(function(){m=
Date.now();p.load("/gp/product/features/apparel-main-image/360.html",c)},g):f.ajaxState(d,"fail")};f.ajaxState(d)&&"fail"!==f.ajaxState(d)||(p.load("/gp/product/features/apparel-main-image/360.html",c),f.ajaxState(d,"sent"))}}function ha(){return f.isDefined(B.spin360ConfigEnabled)&&B.spin360ConfigEnabled}var aa,B,ca,V,W,v,ja,ra,ma,X,ba,oa,la,P,Y,wa,Q,ea,na,ta,va,ua,Ka,Ja,Na=!1,Ha=!1,Ia=!1,xa=0,ya=0,sa=0,Ga=0,Ca=!1,Ba=!1,pa=0,La,Oa=navigator.userAgent.match(/msie|trident/i),Ma=!0,Aa=!1,za=!1,Fa={},
qa={},Ea,Da,Qa=k.once(function(){y();fa();da();k.on("a:popover:afterUpdatePosition:immersiveView",w);k.on("a:popover:afterShow:immersiveView",H);k.on("a:popover:afterHide:immersiveView",Z);F()});return function(b,e,c,g){aa=this;B=b;ca=e;D.refToModel=ca;V=g;ha()&&(B.spin360ColorData[B.landingAsinColor]=B.spin360ColorData[B.defaultColor],B.spin360ColorEnabled[B.landingAsinColor]=B.spin360ColorEnabled[B.defaultColor]);f.isDefined(B.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
l.addStyleCodeToURL(B.staticImages.icon360,"_FMpng_RI_"));aa.render=function(b,a,e,c,g,d){Ma=!0;ha()&&B.spin360ColorEnabled[b]&&!f.isDefined(B.spin360ColorData[b])&&(B.spin360ColorData[b]={},Pa(b));f.isImmersiveViewEnabled(B,ca.getCurrentItem().color)&&ha()&&B.spin360ColorEnabled[b]&&(a===B.maxAlts&&(b=c.find(".item.imageThumbnail"),e=c.find(".item.videoThumbnail"),f.isDefined(e)&&1<e.length?e.last().remove():b.last().remove(),a--),b=c.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
k.declarative.create(b,"button-360-click"),c.append(b),a++,h.postCountMetric("dppc_display360"));return a};aa.update=function(b){};V.register("imageClick",ka);V.register("button360Click",ka)}});"use strict";w.when("A","a-modal","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(k,c,a,f,p,h,D,r){function l(){var c=y.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),
d=c.find(".a-popover-inner"),c=c.height()-r.getDimension(d,"padding-top")-r.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",c);J=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<J?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",
c);k.trigger("dp:image-block:immersive-view:resize")}function E(){k.trigger("dp:image-block:immersive-view:reset")}function F(m){if(f.isImmersiveViewEnabled(w,y.getCurrentItem().color)){h.isEnabled&&D.logImmersiveViewRequestServed(h);p.postCountMetric("dppc_immersiveViewOpened");f.isDefined(m)&&("button-360-click"===m.action?a("#iv360TabHeading").click():"videoIngressClick"===m.action?(L=m.clickTimeStamp,a("#ivVideosTabHeading").click()):a("#ivImagesTabHeading").click());var n=y.getImmersiveViewModalInstance();
if(f.isDefined(n))n.show();else{m=a("#auiImmersiveViewDiv");var n=Math.min(Math.max(a(t).height()-150,540),1080),q=Math.min(Math.max(a(t).width()-75,990),1980),n=c.create(m,{name:"immersiveView",activate:"onclick",width:q,height:n,popoverLabel:"ImmersiveView",hideHeader:!0});y.setImmersiveViewModalInstance(n);m.click()}N&&(N=!1,d(),k.trigger("dp:image-block:immersive-view:init"))}}var A,w,y,C,N=!0,J=0,L,d=k.once(function(){k.on("a:popover:afterUpdatePosition:immersiveView",l);k.on("a:popover:afterShow:immersiveView",
l);k.on("a:popover:afterHide:immersiveView",E)}),m=k.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(d){var h=c.filter(".iv-active");h.attr("id")!==a(this).attr("id")&&k.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",d);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();h=a(this).find("a").attr("data-iv-tab-view");a("#"+h).show();"ivVideosTab"===h&&(d.clickTimeStamp=L||d.timeStamp);
k.trigger("dp:ivTabs:"+h+":select",d);p.postCountMetric("dppc_"+h);return!1})});return function(a,c,d,k){A=this;w=a;y=c;h.refToModel=y;C=k;A.render=function(a,c,d,h,b,e){p.postCountMetric("dpcc_altThumbs_"+c);N=!0};A.update=function(a){};A.getTitle=function(){};A.getVariationSelectionInfo=function(){};m();C.register("imageClick",F);C.register("button360Click",F);f.useTabbedImmersiveView(w)&&C.register("videoIngressClick",F)}});"use strict";w.when("A").register("ImageBlockLoader",function(k){return{load:function(c,
a){a=a||{};a.timeout=a.timeout||4E3;k.ajax(c,a)}}});"use strict";w.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(k,c,a,f,p,h,D,r){function l(b){return null!==b&&"undefined"!==typeof b}function E(b){var a=0;c.each(b,function(b,c){var d=parseInt(c[1],10);d>a&&(a=d)});return a}function F(b){var a=0;c.each(b,function(b,c){var d=parseInt(c[0],10);d>a&&(a=d)});return a}function A(b,a,c){a=a.width();
if(c.naturalMainImageSize)return a;b=E(b);0<b&&(a=Math.min(a,b));return a}function w(b,a,c){a=a.height();if(c.naturalMainImageSize)return a;b=F(b);0<b&&(a=Math.min(a,b));return a}function y(b){var a;c.each(b,function(b,c){l(a)||(a=c[1]/c[0])});return a||1}function C(b,a,c){a.fadeTo(500,0,function(){J(b,c);a.fadeTo(500,1)})}function N(b){b&&b.toggle()}function J(b,a){var g=a.find("img");l(g[b])&&c(g[b]).click()}function L(b,a){M[b]=a?a:M[b];return M[b]}function d(b,a,g){g=g||u;g=g.colorImages;if(1>
g.length||!l(g[b])||!l(a))return-1;var d=-1;c.each(g[b],function(b,c){c.variant===a&&(d=b)});return d}function m(b,a,g){g=g||u;g=g.colorImages;return!(l(g)&&l(g[b])&&l(g[b][a])&&l(g[b][a].main))||1>c.map(g[b][a].main,function(b,a){return a}).length?-1:g[b][a]}function H(b,a,c,d){d.parent().css("z-index",2);0!==c&&0!==a&&(a/=c,b>a?d.css("width",a/b*100+"%"):d.css("height",b/a*100+"%"))}function n(b,a){var g;if(g=b.useIV)g=b.colorImages&&b.colorImages[a]&&0<b.colorImages[a].length?!0:!1;D.isEnabled&&
(D.IVApplicaple=g,r.logImmersiveViewApplicability(c,D));return g}function q(b){return b.playVideoInImmersiveView&&"false"!==b.playVideoInImmersiveView}var z,G,O,u=c.extend(!0,{},p,h),M={};return{isDefined:l,isDefinedAndEmpty:function(b){return l(b)&&"object"===typeof b&&0===Object.keys(b).length},isUndefinedOrEmpty:function(b){return l(b)?"object"===typeof b&&0===Object.keys(b).length:!0},isDefinedAndNotEmpty:function(b){return l(b)?"object"===typeof b&&0<Object.keys(b).length:!1},isjQueryObjDefined:function(b){return 0!==
b.length},getAspectRatio:y,getMaxHeightOfMainImage:w,getMaxWidthOfMainImage:A,getMaxDimensionsOfMainImage:function(b,a,c){if(c.acEnabled)return[a.height(),a.width()];var d=w(b,a,c);a=A(b,a,c);b=y(b);c=a/b;a=Math.min(a,d*b);d=Math.min(d,c);return[d,a]},getContainerHeight:function(b,a,c){var d=b.get(0);b=0;if(l(d)){b=d.offsetWidth/a;b=Math.min(b,c);var h;a=u.mainImageHeightPartitions;c=u.mainImageMaxSizes;if(l(c)&&l(a)){for(var m=0,f=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,
d=0;d<a.length;d++)f>a[d]&&(m=d+1);c.length>=m&&(h=c[m])}l(h)&&(b=Math.min(h[1],b))}return b},getColorFromState:function(b,a){if(b){a=a||u;var d="";c.each(a.visualDimensions,function(a,c){b[c]&&(d+=" "+b[c])});return d&&d.substring(1)}},createThumbnail:function(b,a,c,d){var h=c.find(".template").clone().removeClass("template").addClass("item"),m=document.createElement("img");m.src=a;h.find(".placeHolder").replaceWith(m);(a=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===a&&h.addClass("heroImageThumbnail");
l(d)&&h.addClass(d);k.declarative.create(h,"thumb-action",b);c.append(h)},selectGivenThumbnail:function(b,a){var c=b.find(".a-button");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(b,e,d,h,m,k,n,l){var x=c.extend({},d.foresterMetadataParams);null!==h&&(x.method+="."+h);var q=[];e.disabledViewIds&&(q=e.disabledViewIds);return a.embed({parentElement:b[0],streamingUrls:e.url,
contentId:e.mediaObjectId,contentMinAge:Number(e.minimumAge||"")||0,contentTitle:e.title,swfUrl:d.swfUrl,foresterMetadataParams:x,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:e.slateUrl,postMediaSlate:e.slateUrl},videoAds:d.videoAds,bindings:{play:function(){"ImmersiveView"===h?z||(z=!0,f.postCountMetric("dppc_chromefulVideoPlayedIV")):G||(G=!0,f.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:e.durationSeconds-1,type:"position",callback:function(b,
a,c){m&&(C(0,k,l),N(n))}}],disabledViewIds:q})},loadMediaIntoAiry:function(b,a,c,d){b&&b.getMediaSourceInfo()!==a.url&&(d?(O={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web"},b.loadMedia(O)):b.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}))},showUnavailable:function(b){b&&(c("#imageBlock .unvailableVariation").html(b),c("#imageBlock .variationUnavailable").show())},
hideUnavailable:function(){c("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:C,toggleVideoCaption:N,selectThumbnail:J,spinner:function(b,a){var d=c("#imageBlock .a-spinner").parent();0===d.length&&(d=c("\x3cdiv\x3e\x3c/div\x3e").append(c("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",
height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));a?d.show():d.hide();return d},rankedImagesReadyEvent:function(b){return"ranked-images-ready-for-"+b},ajaxState:L,getIndexForVariant:d,getImageHash:m,lazyLoadingRequired:function(b,a,c){a=Math.max(d(b.color,a.getCurrentItem().variant,c),0);a=-1!==m(b.color,a,c);b=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;b=!b||"success"!==L(b);return!c.lazyLoadExperienceDisabled&&
!a&&b},lazyLoadOnHoverEnabled:function(b){return!b.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:H,repositionVideoBanner:function(b,a,c,d){setTimeout(function(){var c=b.width()/b.height();H(c,16,9,a)},d||0)},getVideosCount:function(b,a){return a.useChildVideos&&a.colorToVideo[b]?a.colorToVideo[b].length:a.videos?a.videos.length:0},getVideoHash:function(b,a,c){if(c.useChildVideos){if(!l(c.colorToVideo))return-1;b=c.colorToVideo[b]}else b=c.videos;return l(b)&&l(b[a])&&l(b[a].url)?b[a]:-1},isImmersiveViewEnabled:n,
playVideoInImmersiveView:function(b,a){return n(b,a)&&q(b)},useTabbedImmersiveView:q,getMediaSourceInfo:function(){return l(O)?O.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(b,a,c){a=b.colorToAsin[a]&&b.colorToAsin[a].asin;a=l(a)?a:b.mediaAsin;return{pageContext:{page:"DetailPageTablet",placement:"ImageBlock",marketplaceID:c.marketPlaceID,locale:c.languageCode,requestId:b.requestId,product:{contentID:a,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:"ASIN",imageURL:c.slateUrl,
videoURL:c.url}},configuration:{id:"div-light-player",type:"lightplayer",binder:"lightplayer",assets:["VSECommonComponentAssets","Brila"],features:{features:{placementcontext:"vse_ib_tablet_web"}}}}}}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(k,c,a,f){function p(d,h,k,l){if(!a.isjQueryObjDefined(d.find(".a-button-selected"))){var r=C.getCurrentItem();if(!l||"chromeless-video"!==r.type||!y.autoplayVideo){l=0;if("hero-image"===
r.type){l=D(r.color,r.variant);if(-1===l)return;l=-1!==l?l:0}var p=h+l;p>=k&&(l=0,p=h);h=f.getHeroImageHash(y,r.color,l);-1!==h&&(N.dispatch("updateModel",{data:{index:l,thumbnailIndex:p,variant:h.variant,type:"hero-image"}}),h=d.find(".item").get(p),a.selectGivenThumbnail(c(h),d))}}}function h(d,h,f){if("hero-video"===C.getCurrentItem().type)return d;h=y.heroImage&&y.heroImage[h];var l=d;a.isDefined(h)&&(c.each(h,function(c,h){d<y.maxAlts&&(a.createThumbnail({type:"hero-image",index:c,thumbnailIndex:d,
variant:h.variant},h.thumb,J,"imageThumbnail"),d++)}),p(J,l,d,f));return d}function D(d,h){var f=y.heroImage;if(1>f.length||!a.isDefined(f[d])||!a.isDefined(h))return-1;var l=-1;c.each(f[d],function(a,c){c.variant===h&&(l=a)});return l}function r(){if(L.length&&y.repositionHeroImage){var c=f.getHeroDimParams(y,C.getCurrentItem()),d;a.isDefined(c)&&(d=a.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px ",L.css({"background-position":d,"background-size":c.width+"px "+c.height+"px ","max-width":c.width+
"px ","min-height":c.height+"px ",filter:"","-ms-filter":""}))}}function l(c,d,h,l){if(L.length&&c&&d){if("function"===typeof h||l){var k=new Image;k.onload=l?function(){L.css("background-image",'url("'+c+'")')}:h;k.src=c}h=d[1];var k=d[0],r;l||L.css({"background-image":'url("'+c+'")'});y.repositionHeroImage&&(d=f.getHeroDimParams(y,C.getCurrentItem(),d),a.isDefined(d)&&(h=d.width,k=d.height,r=a.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));L.css({"background-position":r,"background-size":h+
"px "+k+"px ","max-width":h+"px ","min-height":k+"px ",filter:"","-ms-filter":""})}}function E(a,d,h,k){a=f.getHeroImageHash(y,a,d);if(-1===a)return-1;d=c.map(a.main,function(a,c){return c})[0];l(d,a.main[d],h,k)}function t(a,c,d){if("hero-image"!==a.type)return-1;var h=D(a.color,C.getCurrentItem().variant),h=-1!==h?h:0;if(-1===f.getHeroImageHash(y,a.color,h))return-1;var l=C.getCurrentItem();a.thumbnailIndex=l.thumbnailIndex;a.type=l.type;a.variant=l.variant;a.index=h;A(a,c,d)}function A(a,c,h){var l=
f.getHeroImageHash(y,a.color,a.index),r;r=a&&d&&k.equals(a,d)?!0:!1;d||(d=a);if(!r&&a||c)E(a.color,a.index,c,h),d=a;L.removeClass("hide-background");k.trigger("dp:image-block:update",l)}var w,y,C,N,J,L,d={};return function(d,f,l,k){w=this;y=d;C=f;N=k;y.heroImage[y.landingAsinColor]=y.heroImage[y.defaultColor];w.render=function(a,d,f,l,k,b,e){J=l;L=c("#heroImage");a=h(d,a,b);t(C.getCurrentItem(),e,b);return a};w.update=function(c){var d=c.data;"ingress"!==d.type&&L.addClass("hide-background");"swatchHover"===
c.type?c.captured||(d.type=C.getCurrentItem().type,-1!==t(d)&&(c.captured=!0)):"hero-image"===d.type&&(A(d),"click"!==c.type&&y.usePeekHover||a.selectGivenThumbnail(c.$declarativeParent,J))};N.register("resize",r)}});"use strict";w.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(k,c,a){var f,p,h,D;return function(c,l,E,t){f=this;p=c;h=t;f.render=function(c,h,l,r,E,J,t){D=r;f=this;l=p.maxAlts;r=h;E=p.colorImages[c]?p.colorImages[c].length:0;E+=a.getVideosCount(c,
p);c=p.heroImage[c];J=0;c&&(J=c.length);c=E+J;c>l&&(l=c-l,c=D.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),l+="+",r={type:"ingress",index:0,thumbnailIndex:h,variant:""},c.find("#altIngressText").append(l),k.declarative.create(c,"thumb-action",r),D.append(c),r=h++);return r};f.update=function(a){"ingress"===a.data.type&&"click"===a.type&&h.dispatch("imageClick",a)}}});"use strict";w.when("imageBlockUtils").register("ImageBlockState",
function(k){return function(c,a,f){this.getImageHash=function(a){var h=f.getCurrentItem();a=k.getIndexForVariant(h.color,a||"MAIN",c);return k.getImageHash(h.color,a,c)};this.onImageUpdateForTwister=function(c){a.register("updateSelection",function(a){"swatchClick"===a.type&&"function"===typeof c&&c()})}}});"use strict";w.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(k,c){function a(a,c){var f;if(c.repositionHeroImage){f=a[1];var l=a[0];if(768>=(t.innerHeight||document.documentElement.clientHeight||
document.body.clientHeight))f*=.7,l*=.7;else{var k=((t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,k=Math.max(Math.min(k,1),0);f*=.7+.3*k;l*=.7+.3*k}f=[f,l]}return f}function f(a,f,k){var l;if(k.repositionHeroImage){var p=t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;k=k.heroFocalPoint;if(c.isDefined(k)){l=Math.max((p-Math.min(1500,a))/2,0);var F=Math.max((p-a)/2,0);l-=F;p=Math.max(Math.min(p,1500),1024);l=l+(p-420-23)/2-a/
f[1]*k}}return l}function p(a,f,r){a=a.heroImage;return!(c.isDefined(a)&&c.isDefined(a[f])&&c.isDefined(a[f][r])&&c.isDefined(a[f][r].main))||1>k.map(a[f][r].main,function(a,c){return c}).length?-1:a[f][r]}return{getHeroImageHash:p,getHeroDimParams:function(h,D,r){if(h.repositionHeroImage){if(!c.isDefined(r)){r=p(h,D.color,D.index);if(-1===r)return;D=k.map(r.main,function(a,c){return c})[0];r=r.main[D]}D=a(r,h);h=f(D[0],r,h);return{height:D[1],width:D[0],xPos:h,yPos:75}}}}});"use strict";w.when("A",
"jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(k,c,a){function f(c,f){var r=k.copy(c);if(a.isDefined(c)&&c.length>f){try{for(var l=-1,p=0;p<c.length;p++){var t=c.charAt(p);if(" "===t||"."===t||"?"===t||";"===t||","===t||":"===t)l=p;if(p===f-4){r=c.substring(0,-1===l?p:l);break}}}catch(w){r=c.substring(0,f-3)}r+="..."}return r}function p(a,c){var f=a.lastIndexOf(".");return a="_"===a.charAt(f-1)?a.substring(0,f-1)+c+a.substring(f):a.substring(0,f)+"."+c+a.substring(f)}
return{getDimension:function(a,c){var f=parseInt(a.css(c),10);return isNaN(f)?0:f},attachTabSelectHandler:function(a,c){k.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){k.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){k.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){k.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){k.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){c("#"+a).hide()},unhideTabHeading:function(a){c("#"+a).show()},addStyleCodeToURL:p,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var f="_AA50_";c&&(f+="FMpng_RI_");return p(a,f)},populateVariationSelection:function(f){if(a.isDefined(t.DetailPage)&&a.isDefined(t.DetailPage.StateController)){f.empty();
var k=t.DetailPage.StateController.getState(),r=k.variation_label_order,l;for(l in r)if(r.hasOwnProperty(l)){var p=r[l],w=k.selected_variations[p],p=k.variation_display_labels[p];w&&c("\x3cdiv/\x3e").addClass("ivVariations").text(p+":"+w).appendTo(f)}}},populateTitle:function(a,c,k){a.html(k.title);a.attr("title",a.text());a.html(f(k.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,f,k){t.ueLogError&&
t.ueLogError(k,{logLevel:a,attribution:c,message:f})}}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(k,c,a,f,p){function h(){p.populateTitle(n.find("#ivTitle"),160,m)}function t(){var b=H.getCurrentItem().color;z=m.colorImages[b];q=m.heroImage[b];G=O=0;a.isDefined(q)&&(G=q.length);a.isDefined(z)&&(O=z.length)}function r(a){return a.hiRes||a.large||a.main[a.main.length-1]}function l(){var a=n.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var f=d.width(),h=d.height();0<d.length&&(d[0].naturalWidth&&(f=d[0].naturalWidth),d[0].naturalHeight&&(h=d[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,h=0===h?1:h,k=Math.min(b/f,c/h),l=h*k,q=f*k;1>k?(M?a.css("cursor","url('"+m.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),g=!0):g=!1;f=Math.min(q,f);h=Math.min(l-20,h);d.css({"margin-top":(c-
h)/2,"margin-left":(b-f)/2,height:h,width:f});a.css("visibility","visible");e=!1}function w(a){var b=n.find("#ivLargeImage");b.css("visibility","hidden");b.empty();p.animateStageIn(b);b.append(a);l()}function F(b){n.find("#ivLargeImage").css("display","none");n.find("#ivLargeImage").css("display","block");var d;"hero-image"===b?a.isDefined(q)&&(d=r(q[u.index])):a.isDefined(z)&&(d=r(z[u.index]));if(a.isDefined(d)){n.find(".fullscreen").remove();var e=c("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),
g=n.find("#ivLargeImage");p.animateStageOut(g,function(){e.load(function(){w(e)});if(e[0].complete)w(e);else{g.empty();var a=(g.height()-104)/2,b=(g.width()-80)/2;c("\x3cimg\x3e").attr("src",m.staticImages.spinner).css({position:"relative",top:a+"px",left:b+"px"}).appendTo(g)}})}}function A(a){n.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?u.type="hero-image":u.type="image";u.index=a.attr("id").split("_")[1];F(u.type);f.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(u.index,10)+1)+"_"+(G+O))}function T(){n.delegate(".ivThumb","click",function(){var a=c(this);A(a)})}function y(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function C(a){var b=K.top-(a.pageY-U[1])*S;a=y(K.left-(a.pageX-U[0])*S,I.left);b=y(b,I.top);n.find(".fullscreen").css({left:a,top:b})}function N(){n.delegate("#ivLargeImage","click",function(a){if(e)l();else if(g){n.find(".fullscreen").removeAttr("style");if(g){var b=n.find("#ivLargeImage"),c=b.find(".fullscreen");M?b.css("cursor",
"url('"+m.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));e=!0;var d=n.find("#ivLargeImage");I.left=d.width()-c.width();I.top=d.height()-c.height();var d=b.height()/2,h=b.width()/2;U=[b.offset().left+h,b.offset().top+d];K.top=d-c.height()/2;K.left=h-c.width()/2;c.css({position:"relative",left:K.left,top:K.top});S=Math.max(c.height()/b.height(),c.width()/b.width())}C(a);f.postCountMetric("dpcc_iv_largeImageCLick")}});
n.delegate("#ivLargeImage","mousemove",function(a){e&&C(a)})}function J(){n.find("#ivLargeImage").empty()}function L(d){if(b){n=c("#ivMain");t();u=H.getCurrentItem();h();p.populateVariationSelection(n.find("#ivVariationSelection"));d=n.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var e=G+O,g=0,f=0;g<e;)for(var k=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),l=0;4>l&&g<e;l++,g++,f++)if(f<G){var m=q[g].thumb,r=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+g).appendTo(k);r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(m)+'") center no-repeat')}else f>=G&&f<O+G&&(m=z[g-G].thumb,r=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-G)).appendTo(k),r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(m)+'") center no-repeat'));R();b=!1}else h();d=c("#ivImagesTab").height();n.css("height",d);e=n.find("#ivTitle").outerHeight(!0);g=n.find("#ivVariationSelection").outerHeight(!0);
f=n.find("#ivThumbs");k=p.getDimension(f,"margin-top")+p.getDimension(f,"margin-bottom");f.css("height",d-e-g-k);n.find("#ivLargeImage").css("height",d);d=n.find("#ivStage");e=n[0]&&n[0].getBoundingClientRect&&Math.floor(n[0].getBoundingClientRect().width)||n.width();d.css("width",e-p.getDimension(n,"padding-left")-p.getDimension(n,"padding-right")-n.find("#ivThumbColumn").width()-p.getDimension(d,"margin-left")-p.getDimension(d,"margin-right"));u=H.getCurrentItem();d="hero-image"===u.type?n.find("#ivHeroImage_"+
u.index):"image"===u.type?n.find("#ivImage_"+u.index):a.isDefined(q)?n.find("#ivHeroImage_"+u.index):n.find("#ivImage_"+u.index);a.isjQueryObjDefined(d)||(d=n.find("#ivImage_0"));A(d)}var d,m,H,n,q,z,G,O,u,M=navigator.userAgent.match(/msie|trident/i),b=!0,e=!1,g=!1,I={},K={},S,U,b=!0,R=k.once(function(){T();N();p.attachImmersiveViewResizeHandler(L);p.attachTabDeselectHandler("ivImagesTab",J)});return function(a,e,g,f){d=this;m=a;H=e;d.render=function(a,d,e,g,f,h){b=!0;t();0===G+O?p.hideTabHeading("ivImagesTabHeading"):
p.unhideTabHeading("ivImagesTabHeading");1===G+O?c("#ivThumbs").hide():c("#ivThumbs").show()};d.update=function(a){};p.attachTabSelectHandler("ivImagesTab",L)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(k,c,a,f,p,h,D){function r(){m.delegate(".ivThumb","click",function(){var a=c(this);m.find(".ivThumb").removeClass("selected");a.addClass("selected");
a.hasClass("ivThumbVideo")&&(H.type="chromeful-video",H.index=a.attr("id").split("_")[1])})}function l(){var a=c("#ivVideosTab").height();m.css("height",a);var d=m.find(".vse-video-block");q=a-p.getDimension(m,"padding-top")-p.getDimension(m,"padding-bottom");d.css({"max-height":a,overflow:"hidden"});if(b)m.css({"max-width":Math.floor(1.77*q)});else{var a=m.find(".vse-airy-container"),d=m.find(".vse-ib-metadata"),g=Math.floor(q-p.getDimension(d,"height")),f=Math.floor(1.77*g);a.css({"max-height":g,
"max-width":f});d.css("max-width",f);e&&(a=m.find(".vse-vertical-scroll"),d=p.getDimension(a,"margin-top")+p.getDimension(a,"margin-bottom"),a.css("max-height",q-d))}}function w(){F();n&&n.pause();g=!1;u=!0;O=null}function F(){g=!1;n&&n.pause()}function A(a){O=a.clickTimeStamp;M&&(D.get(k,"#ivVideoBlock",d,U,R),m=c("#ivVideoBlock"),L.getCurrentItem(),H=L.getCurrentItem(),I());l();g=!0;M=!1;C()}function T(a){M&&(m=c("#ivVideoBlock"),L.getCurrentItem(),H=L.getCurrentItem(),I());g&&C();l()}function y(a){n=
a.airy;g&&n.play({isAsync:!0})}function C(){if(n&&(n.play({isAsync:!0,eventTimestamp:O||(new Date).getTime()}),f.postCountMetric("dpcc_vse_videoBlock_video_played"),u)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,f.postTimeMetric("dpcc_vse_vitff",a),u=!1)}}var N,J,L,d,m,H,n,q,z,G,O,u=!0,M=!0,b=!1,e=!1,g=!1,I=k.once(function(){r();p.attachImmersiveViewResizeHandler(T);p.attachTabDeselectHandler("ivVideosTab",F);p.attachImmersiveViewResetHandler(w)}),K=function(d,
e,h){c("#ivVideoBlockSpinner").addClass("aok-hidden");f.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);d=L.getCurrentItem().color;d=a.getVideoHash(d,0,J);n||(n=a.createAiryInstanceForChromeful(c("#ivVideoBlock"),d,J.airyConfig,"ImmersiveView"));b=!0;c("#ivVideoBlock").css({"max-width":1.77*q,margin:"0 auto"});g&&b&&n.play({isAsync:!0})},S=function(a,b,e){M||D.get(a,"#ivVideoBlock",d,U,R);c("#ivVideoBlockSpinner").addClass("aok-hidden")},U=function(a,b,c){e=!0;l();g&&C()},R=function(a,
b,c){f.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(b,c,e,g){N=this;J=b;L=c;N.render=function(b,c,e,g,f,l){b=L.getCurrentItem().color;c=a.getVideoHash(b,0,J);z=J.colorToAsin[b]&&J.colorToAsin[b].asin;z=a.isDefined(z)?z:J.mediaAsin;G=null!==J.vseVideoDataSourceTreatment&&"T1"===J.vseVideoDataSourceTreatment?"ASIN":"physicalID";M=!0;-1===c?p.hideTabHeading("ivVideosTabHeading"):(p.unhideTabHeading("ivVideosTabHeading"),d={page:"DetailPage",
placement:"ImageBlock",device:"Desktop",marketplaceID:c.marketPlaceID,locale:c.languageCode,product:{contentID:z,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:G,videoURL:c.url,imageURL:c.slateUrl},requestId:J.dpRequestId,metadata:{ProductTitle:J.title}},h.get(k,"#ivVideoBlock",d,S,K))};N.update=function(a){};p.attachTabSelectHandler("ivVideosTab",A);k.on("vseAiry",y)}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView360",
function(k,c,a,f,p,h,t){function r(){var a=c("#iv360Tab").height();g.css("height",a);var b=g.find("#ivTitle360").outerHeight(!0),d=g.find("#ivVariationSelection360").outerHeight(!0),e=g.find("#ivThumbs360"),f=t.getDimension(e,"margin-top")+t.getDimension(e,"margin-bottom");e.css("height",a-b-d-f);a=g.find("#ivStage360");b=g[0]&&g[0].getBoundingClientRect&&Math.floor(g[0].getBoundingClientRect().width)||g.width();a.css("width",b-t.getDimension(g,"padding-left")-t.getDimension(g,"padding-right")-g.find("#ivThumbColumn360").width()-
t.getDimension(a,"margin-left")-t.getDimension(a,"margin-right"))}function l(){T();var a=g.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});t.animateStageIn(a)},200);w()}function w(){if(0<B){var a=g.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function F(a,d){if(B<a.length){var e=c("\x3cimg /\x3e").css({display:"block",width:6*K+"px",height:S+"px"});e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&
(B++,1===B&&(w(),0<ka&&(p.time("dppc_loadTime360",Date.now()-ka,b.mediaAsin),h.postTimeMetric("dppc_loadTime360",Date.now()-ka))),0<ea&&(p.time("dppc_perSpriteloadTime360",Date.now()-ea,b.mediaAsin),h.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ea)),g.find("#iv360Spinner").hide(),e.show(),ga=5*I.imageLocations[Math.floor(da/I.imageLocations[0].length)][da%I.imageLocations[0].length],F(a,d))};e.attr("src",a[B].replace(/(\._SP)\d+(,)\d+/,"$1"+R+"$2"+U));ea=Date.now()}}function A(b){if(a.isDefined(I.spriteWidthSizes)&&
0<I.spriteWidthSizes.length){var c=I.spriteWidthSizes,d=c.length,e=c[0],g=c[d-1];if(b<=e)return e;if(b>g)return g;for(e=0;e<d;e++)if(b>c[e]&&b<=c[e+1])return c[e+1]}else return b}function T(){var a=g.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),c("\x3cimg\x3e").attr("src",b.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Z=!0,y())}function y(){if(a.isDefined(I.spriteURLs)&&a.isDefined(g)&&Z&&!ia){var e=g.find("#ivLarge360"),f=c("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(I.staticImages.hint360)&&c("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",I.staticImages.hint360).appendTo(f);c("\x3cdiv\x3e").css({"text-align":"center"}).text(b.staticStrings.dragToSpin).appendTo(f);f.appendTo(e);var f=I.imageWidth,h=I.imageHeight,k=e.parent().width(),l=e.parent().height(),n=0,q=0;f/h>k/l?(R=A(k),U=Math.round(h/f*R),K=Math.ceil(k),S=Math.ceil(U/R*k),q=(l-S)/2):(U=A(l),R=Math.round(f/h*U),S=Math.ceil(l),K=Math.ceil(R/U*l),n=(k-K)/2);e.css({"margin-left":n,"margin-top":q,width:K+"px",height:S+"px",overflow:"hidden",
position:"relative"});e.children("#image-360-sprites").css("width",6*K+"px");F(I.spriteURLs,g.find("#image-360-sprites"),0);f=g.find("#ivLarge360");f.bind("mousedown",L);f.bind("touchstart",C);f.bind("touchmove",N);f.bind("touchend",J);c(document).bind("mousemove",d);c(document).bind("mouseup",m);a.isDefined(b.staticImages.grab)&&e.css("cursor","url('"+b.staticImages.grab+"'), auto");ia=!0}}function C(a){aa=!0;fa=a.originalEvent.targetTouches[0].clientX}function N(a){aa&&(H(a.originalEvent.targetTouches[0].clientX-
fa),fa=a.originalEvent.targetTouches[0].clientX)}function J(a){aa&&(aa=!1)}function L(c){ha=!0;x=c.originalEvent.clientX;a.isDefined(b.staticImages.grabbing)&&(c=g.find("#ivLarge360"),c.css("cursor","url('"+b.staticImages.grabbing+"'), auto"),c.parents(".a-declarative").last().css("cursor","url('"+b.staticImages.grabbing+"'), auto"));return!1}function d(a){ha&&(H(a.originalEvent.clientX-x),x=a.originalEvent.clientX)}function m(c){ha&&(ha=!1,a.isDefined(b.staticImages.grab)&&(c=g.find("#ivLarge360"),
c.css("cursor","url('"+b.staticImages.grab+"'), auto"),c.parents(".a-declarative").last().css("cursor","auto")))}function H(c){ga-=c/K*180;V&&(p.count("dppc_360dragToSpin",b.mediaAsin),h.postCountMetric("dppc_360dragToSpin"));V=!1;for(c=ga;0>c;)c+=360;for(;360<c;)c-=360;ga=c;var d;c=360;for(var e=0;e<B;e++)for(var f=0;f<I.imageLocations[e].length;f++){var k=Math.abs(ga-5*I.imageLocations[e][f]);k<c&&(c=k,d=e*I.imageLocations[0].length+f)}d!==da&&(c=Math.floor(d/I.imageLocations[0].length),c!==Math.floor(da/
I.imageLocations[0].length)&&(a.isDefined(ca)||(ca=document.createElement("canvas").getContext("2d")),e=g.find("#image-360-sprites").children(),ca.drawImage(e[c],0,0)),c=g.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(c)&&(c.addClass("iv360HintFaded"),c.animate({opacity:0},750)));da=d;c=d%I.imageLocations[0].length*-1*K;d=-1*Math.floor(d/I.imageLocations[0].length)*S;e=g.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+c+"px, "+d+"px, 0)");e.css("transform",
"translate3d("+c+"px, "+d+"px, 0)")}function n(){if(v){g=c("#ivMain360");var a=e.getCurrentItem().color;G()&&O(a);I=G()?b.spin360ColorData[a]:void 0;t.populateTitle(g.find("#ivTitle360"),160,b);t.populateVariationSelection(g.find("#ivVariationSelection360"));g.find("#ivLarge360").empty();B=0;ia=Z=!1;da=ga=0;ja();v=!1}0!==c("#iv360Tab").height()&&(t.detachImmersiveViewResizeHandler(n),r(),l(),ka=Date.now(),W=V=!0,p.count("dppc_click360",b.mediaAsin),h.postCountMetric("dppc_click360"))}function q(d,
g,k){var l=b.colorToAsin[k],m={},n=500;if(!l||!l.asin)if(k===b.defaultColor)l={asin:b.winningAsin};else return;m.params={asin:l.asin};var q="360"+l.asin,r=Date.now();m.success=function(f){p.time("dppc_asyncRequestTime360",Date.now()-r,b.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",Date.now()-r);if(f&&a.isDefined(f.spin360)){if(f=f.spin360.spin360Model)b.spin360ColorData[k]=f,k===e.getCurrentItem().color&&(I=b.spin360ColorData[k],y(),c("#ivThumbs360").hide(),t.unhideTabHeading("iv360TabHeading"),
z(d,g,k));a.ajaxState(q,"success")}else m.error()};m.error=function(){p.count("dppc_asyncFailedTransient360",b.mediaAsin);h.postCountMetric("dppc_asyncFailedTransient360");p.time("dppc_asyncRequestTime360",Date.now()-r,b.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",Date.now()-r);n*=2;16E3>=n?setTimeout(function(){r=Date.now();f.load("/gp/product/features/apparel-main-image/360.html",m)},n):(p.count("dppc_asyncFailed360",b.mediaAsin),h.postCountMetric("dppc_asyncFailed360"),a.ajaxState(q,
"fail"))};a.ajaxState(q)&&"fail"!==a.ajaxState(q)||(f.load("/gp/product/features/apparel-main-image/360.html",m),a.ajaxState(q,"sent"))}function z(c,d,f){if(a.isImmersiveViewEnabled(b,e.getCurrentItem().color)&&G()&&O(f)){if(d===b.maxAlts){f=c.find(".item.imageThumbnail");var g=c.find(".item.videoThumbnail");a.isDefined(g)&&1<g.length?g.last().remove():f.last().remove();d--}f=c.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item");k.declarative.create(f,
"button-360-click");c.append(f);d++;p.count("dppc_display360",b.mediaAsin);h.postCountMetric("dppc_display360")}return d}function G(){return b&&a.isDefined(b.spin360ConfigEnabled)&&b.spin360ConfigEnabled}function O(c){return a.isDefinedAndNotEmpty(b.spin360ColorData[c])?!0:a.isDefined(b.spin360LazyLoadEnabled)&&b.spin360LazyLoadEnabled}function u(){W&&(p.time("dppc_duration360",Date.now()-ka,b.mediaAsin),h.postTimeMetric("dppc_duration360",Date.now()-ka),W=!1)}var M,b,e,g,I,K,S,U,R,x,fa,Z=!1,ia=!1,
ga=0,da=0,ka=0,ea=0,ha=!1,aa=!1,B=0,ca,V=!0,W=!1,v=!0,ja=k.once(function(){t.attachImmersiveViewResizeHandler(n);t.attachImmersiveViewResizeHandler(r);t.attachImmersiveViewResetHandler(u);t.attachTabDeselectHandler("iv360Tab",u)});return function(d,f,g,h){M=this;b=d;e=f;d=b.landingAsinColor;f=b.defaultColor;a.isDefined(b.staticImages.icon360)&&c("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(b.staticImages.icon360,"_FMpng_RI_"));G()&&(b.spin360ColorData||
(b.spin360ColorData={}),d===f&&a.isDefinedAndEmpty(b.spin360ColorData[f])&&delete b.spin360ColorData[f]);M.render=function(d,e,f,g,h,k){v=!0;G()&&O(d)?(f=b.spin360ColorData[d],a.isDefinedAndEmpty(f)?t.hideTabHeading("iv360TabHeading"):a.isDefinedAndNotEmpty(f)?(c("#ivThumbs360").hide(),t.unhideTabHeading("iv360TabHeading"),z(g,e,d)):(b.spin360ColorData[d]={},t.hideTabHeading("iv360TabHeading"),q(g,e,d))):t.hideTabHeading("iv360TabHeading")};M.update=function(a){};t.attachTabSelectHandler("iv360Tab",
n)}});w.register("nexusLogger360",function(){return{count:function(k,c){t.ue&&t.ue.event({asin:c,metricName:k,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(k,c,a){t.ue&&t.ue.event({asin:a,metricName:k,metricValue:c},"hit-360","hit360.clientEvent.3")}}});"use strict";w.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(k,c){try{var a=t.location.host,f={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},p=a.split(".")[1],
h=-1===a.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==f[p]?f[p]:"https://www.amazon.com/vap/ew/",D="vse_lazyLoaderHook:success:",r="vse_lazyLoaderHook:error:",l="vse_preLoaderHook:success:",E="vse_preLoaderHook:error:",F="vse_lightPlayerLoaderHook:success:",A="vse_lightPlayerLoaderHook:error:",T=4E3,y=3}catch(C){c.logError("FATAL","vse_ns_desktop","[Domain] ",C)}w.register("vse_ns_preLoaderHook",function(){function a(f,r){try{var d=f.A,m=f.block,p=f.request,n=f.handleFailure,q=f.handleSuccess,
t=d.$;r--;var w=y-r-1,A=d.now();d.ajax(h+"componentbuilder",{params:p,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:p.timeout||T,withCredentials:!0,success:function(a){var b=d.now()-A;k.postTimeMetric(l,b);k.postCountMetric(l+p.page+":"+p.placement+":"+w);t(m).html(a);q(d,p,a)},error:function(c){k.postCountMetric(E+p.page+":"+p.placement+":"+w);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<r?a(f,r):(k.postCountMetric(E,1),n(d,p,c))}})}catch(u){c.logError("FATAL",
"vse_ns_desktop","[vse_ns_preLoaderHook] ",u)}}return{get:function(c,f,d,h,k){a({A:c,block:f,request:d,handleFailure:k,handleSuccess:h},y)}}});w.register("vse_ns_lazyLoaderHook",function(){function a(f,l,d){try{var m=f.A,p=f.context,n=f.handleFailure,q=f.handleSuccess;l.attr("data-configuration");var t=atob(l.attr("data-configuration")),w=JSON.parse(t),A={pageContext:p,configuration:w},u=m.now();d--;var C=y-d-1;m.ajax(h+"subcomponent/"+w.type,{params:A,paramsFormat:"json",method:"post",contentType:"application/json",
timeout:p.timeout||T,withCredentials:!0,success:function(a){var b=m.now()-u;k.postTimeMetric(D,b);k.postCountMetric(D+p.page+":"+p.placement+":"+w.type+":"+C);l.html(a);q(m,A,a)},error:function(b){k.postCountMetric(r+p.page+":"+p.placement+":"+w.type+":"+C);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<d?a(f,l,d):(k.postCountMetric(r,1),n(m,A,b))}})}catch(b){c.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",b)}}return{get:function(c,f,d,h,k){var l=c.$;l(f+" div[data-configuration]").each(function(){a({A:c,
context:d,handleFailure:k,handleSuccess:h},l(this),y)})}}});w.register("vse_ns_videoPlayer",function(){function a(f,l,d){try{var m=f.A,p=f.block,n=f.request,q=f.handleFailure,r=f.handleSuccess,t=m.$;d--;var w=y-d-1,u=m.now();m.ajax(h+"subcomponent/lightvideoplayer",{params:n,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:n.timeout||T,withCredentials:!0,success:function(a){var c=m.now()-u;k.postTimeMetric(F,c);k.postCountMetric(F+n.page+":"+n.placement+":"+
w);t(p).html(a);r(m,n,a)},error:function(b){k.postCountMetric(A+n.page+":"+n.placement+":"+w);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<d?a(f,d):(k.postCountMetric(A,1),q(m,n,b))}})}catch(C){c.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",C)}}return{get:function(c,f,d,h,k){a({A:c,block:f,request:d,handleFailure:k,handleSuccess:h},y)}}})})});